{"ast":null,"code":"var _jsxFileName = \"D:\\\\CDAC_Sept_21\\\\Project\\\\EV_Slot_Booking\\\\Ev slotBooking app\\\\src\\\\components\\\\Login.js\";\nimport React from 'react';\nimport CustomerForm from './CustomerForm';\nimport './Login.css';\nimport mystore1 from './Store1';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class Login extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = e => {\n      const input = e.target;\n      const nm = input.name;\n      const val = input.value;\n      this.setState({\n        [nm]: val\n      });\n    };\n\n    this.submitData = e => {\n      e.preventDefault();\n      /* alert(\"form is getting submitted \");\r\n       console.log(this.state);*/\n\n      const reqData = {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Access-Control-Allow-Origin': '*'\n        },\n        body: JSON.stringify({\n          //this must matches with the entity entered in springboot\n          user: this.state.user,\n          password: this.state.password // role:\n\n        })\n      };\n      fetch(\"http://localhost:8080/checkLogin\", reqData).then(resp => resp.text()).then(data => {\n        if (data.length != 0) {\n          console.log(data);\n          const json = JSON.parse(data); // var response = JSON.parse(data);\n          // console.log(response['role']);\n\n          if (json.login_tbl.role == \"Customer\") {\n            this.setState({\n              customer: json\n            });\n            localStorage.setItem(\"loggedinuser\", JSON.stringify(this.state.customer)); //session Storage\n\n            mystore1.dispatch({\n              type: 'LOGGEDIN'\n            });\n            this.props.history.push(\"/customerhome\");\n          } else if (json.login_tbl.role == \"Distributor\") {\n            this.setState({\n              distributer: json\n            });\n            localStorage.setItem(\"loggedinuser\", JSON.stringify(this.state.distributer)); //session Storage\n\n            mystore1.dispatch({\n              type: 'LOGGEDIN'\n            });\n            this.props.history.push(\"/distributerhome\");\n          } else if (json.login_tbl.role == \"Admin\") {\n            this.setState({\n              admin: json\n            });\n            localStorage.setItem(\"loggedinuser\", JSON.stringify(this.state.admin)); //session Storage\n\n            mystore1.dispatch({\n              type: 'LOGGEDIN'\n            });\n            this.props.history.push(\"/adminhome\");\n          }\n        } else {\n          this.setState({\n            loginerror: \"wrong Id/password\"\n          });\n        }\n      });\n    };\n\n    this.customerForm = () => {\n      this.props.history.push(\"/CustomerForm\");\n    };\n\n    this.distributorForm = () => {\n      this.props.history.push(\"/DistributerForm\");\n    };\n\n    this.forgetForm = () => {\n      this.props.history.push(\"/Forgot\");\n    };\n\n    this.state = {\n      user: \"\",\n      password: \"\",\n      customer: {},\n      distributer: {},\n      admin: {},\n      msg: \"\",\n      loginerror: \"\"\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"Form my-5 mx- 3 \",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container \",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row no-gutters \",\n            style: {\n              padding: \"10px\"\n            },\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-lg px-5\",\n              children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                className: \"font-weight-bold py-3\",\n                children: \" Welcome,Book your charging slot now  \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 157,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n                children: \" Sign into your account \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 158,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-row\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-lg-7\",\n                    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"text\",\n                      name: \"user\",\n                      placeholder: \"Username\",\n                      className: \"form-control my-2 p-2\",\n                      ref: \"user\",\n                      value: this.state.user,\n                      onChange: this.handleChange\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 162,\n                      columnNumber: 41\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-danger font-weight-bold \"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 162,\n                      columnNumber: 196\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 161,\n                    columnNumber: 37\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 160,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  class: \"form-row\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-lg-7\",\n                    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"password\",\n                      name: \"password\",\n                      placeholder: \"Password\",\n                      className: \"form-control my-2 p-2 \",\n                      ref: \"password\",\n                      value: this.state.password,\n                      onChange: this.handleChange\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 167,\n                      columnNumber: 41\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-danger font-weight-bold\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 167,\n                      columnNumber: 213\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 166,\n                    columnNumber: 37\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 165,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 170,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-row\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-lg-6\",\n                    children: /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"submit\",\n                      name: \"login\",\n                      value: \"Login\",\n                      className: \"btn btn-success\",\n                      onClick: this.submitData\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 173,\n                      columnNumber: 41\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 172,\n                    columnNumber: 37\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 171,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 176,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn btn-warning\",\n                  onClick: this.forgetForm,\n                  children: \"Forget password \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 177,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \" \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 177,\n                  columnNumber: 121\n                }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 178,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 179,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  style: {\n                    color: \"darkred\"\n                  },\n                  children: [\"Dont have an account ? \\xA0\", /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"btn btn-info\",\n                    onClick: this.customerForm,\n                    children: \"Customer Registration\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 181,\n                    columnNumber: 37\n                  }, this), \"\\xA0\", /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"btn btn-info\",\n                    onClick: this.distributorForm,\n                    children: \"Distributor Registration\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 182,\n                    columnNumber: 37\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 180,\n                  columnNumber: 33\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 159,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 185,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: this.state.loginerror\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 186,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 156,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 13\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["D:/CDAC_Sept_21/Project/EV_Slot_Booking/Ev slotBooking app/src/components/Login.js"],"names":["React","CustomerForm","mystore1","Login","Component","constructor","props","handleChange","e","input","target","nm","name","val","value","setState","submitData","preventDefault","reqData","method","headers","body","JSON","stringify","user","state","password","fetch","then","resp","text","data","length","console","log","json","parse","login_tbl","role","customer","localStorage","setItem","dispatch","type","history","push","distributer","admin","loginerror","customerForm","distributorForm","forgetForm","msg","render","padding","color"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport CustomerForm from './CustomerForm';\r\nimport './Login.css';\r\nimport mystore1 from './Store1';\r\n\r\n\r\n\r\nexport default class Login extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state =\r\n        {\r\n            user: \"\",\r\n            password: \"\",\r\n            customer: {},\r\n            distributer: {},\r\n            admin: {},\r\n            msg:\"\",\r\n            loginerror: \"\"\r\n\r\n        }\r\n    }\r\n\r\n\r\n    handleChange = (e) => {\r\n\r\n        const input = e.target;\r\n        const nm = input.name;\r\n        const val = input.value;\r\n        this.setState({ [nm]: val });\r\n    }\r\n\r\n/*\r\n   checkLogin = () => {\r\n       let user =this.user.value;\r\n       let password = this.password.value;\r\n\r\n       const url = \"http://localhost:8080/checkLogin?user=\"+user+\"&password=\"+password;\r\n\r\n       fetch(url)\r\n       .then(response => response.text())\r\n       //.then(data => this.setState({msg : data}));\r\n       .then(data => {\r\n            if(data ==\"customer\")\r\n            {\r\n                this.props.history.push(\"/customerhome/\"+user);\r\n            }\r\n            else if(data ==\"distributer\")\r\n            {\r\n                this.props.history.push(\"/distributerhome/\"+user);\r\n            }\r\n            else if(data ==\"admin\")\r\n            {\r\n                this.props.history.push(\"/adminhome/\"+user);\r\n            }\r\n            else if(data ==\"\")\r\n            {\r\n                this.setState({loginerror:\"Wrong ID/Password  \"});\r\n            }\r\n\r\n\r\n    }\r\n    )}\r\n   */\r\n\r\n\r\n    submitData = (e) => {\r\n        e.preventDefault();\r\n        /* alert(\"form is getting submitted \");\r\n         console.log(this.state);*/\r\n\r\n        const reqData =\r\n        {\r\n            method: 'POST',\r\n            headers:\r\n            {\r\n                'Content-Type': 'application/json',\r\n                'Access-Control-Allow-Origin':'*'\r\n            },\r\n            body: JSON.stringify\r\n                ({\r\n                    //this must matches with the entity entered in springboot\r\n                    user: this.state.user,\r\n                    password: this.state.password,\r\n                   // role:\r\n                })\r\n        }\r\n\r\n        fetch(\"http://localhost:8080/checkLogin\", reqData)\r\n            .then(resp => resp.text())\r\n            .then(data => {\r\n                if (data.length != 0) \r\n                {\r\n                    console.log(data);\r\n                        const json = JSON.parse(data);\r\n                         // var response = JSON.parse(data);\r\n                         // console.log(response['role']);\r\n                        if (json.login_tbl.role == \"Customer\") {\r\n                            this.setState({ customer: json });\r\n                            localStorage.setItem(\"loggedinuser\", JSON.stringify(this.state.customer));\r\n                            //session Storage\r\n                            mystore1.dispatch({ type: 'LOGGEDIN' })\r\n                            this.props.history.push(\"/customerhome\")\r\n                        }\r\n                        else if (json.login_tbl.role == \"Distributor\") {\r\n                            this.setState({ distributer: json });\r\n                            localStorage.setItem(\"loggedinuser\", JSON.stringify(this.state.distributer));\r\n                            //session Storage\r\n                            mystore1.dispatch({ type: 'LOGGEDIN' })\r\n                            this.props.history.push(\"/distributerhome\")\r\n                        }\r\n                        else if (json.login_tbl.role == \"Admin\")\r\n                        {\r\n                            this.setState({ admin: json });\r\n                            localStorage.setItem(\"loggedinuser\", JSON.stringify(this.state.admin));\r\n                            //session Storage\r\n                            mystore1.dispatch({ type: 'LOGGEDIN' })\r\n                            this.props.history.push(\"/adminhome\")\r\n                        }\r\n                }  \r\n                else \r\n                {\r\n                    this.setState({ loginerror: \"wrong Id/password\" });\r\n                }\r\n     \r\n            }\r\n            )}\r\n        \r\n        \r\n            customerForm = ()=>{\r\n                this.props.history.push(\"/CustomerForm\");\r\n            }\r\n\r\n            distributorForm = ()=>{\r\n                this.props.history.push(\"/DistributerForm\");\r\n            }\r\n            \r\n           \r\n            \r\n            forgetForm = ()=>{\r\n                this.props.history.push(\"/Forgot\");\r\n            }\r\n\r\n\r\n    render(){\r\n\r\n        return (\r\n            <div >\r\n            <div className=\"Form my-5 mx- 3 \" >\r\n                <div className=\"container \" >\r\n                    <div className=\"row no-gutters \" style={{ padding: \"10px\" }}>\r\n                        {/* <div className=\"col-lg-5 my-16 p-12\">\r\n                            <img src=\"./images/ucopy2.jpg\" className=\"img-fluid\" style={{ marginTop: \"10px\" }} alt=\"Image Cylinder\" />\r\n                        </div> */}\r\n                        <div className=\"col-lg px-5\">\r\n                            <h1 className=\"font-weight-bold py-3\"> Welcome,Book your charging slot now  </h1>\r\n                            <h4> Sign into your account </h4>\r\n                            <form >\r\n                                <div className=\"form-row\">\r\n                                    <div className=\"col-lg-7\">\r\n                                        <input type=\"text\" name=\"user\" placeholder=\"Username\" className=\"form-control my-2 p-2\"  ref=\"user\" value={this.state.user} onChange={this.handleChange} /><span className=\"text-danger font-weight-bold \"></span>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-row\">\r\n                                    <div className=\"col-lg-7\">\r\n                                        <input type=\"password\" name=\"password\" placeholder=\"Password\" className=\"form-control my-2 p-2 \"  ref=\"password\" value={this.state.password} onChange={this.handleChange} /><span className=\"text-danger font-weight-bold\"></span>\r\n                                    </div>\r\n                                </div>\r\n                                <br/>\r\n                                <div className=\"form-row\">\r\n                                    <div className=\"col-lg-6\">\r\n                                        <input type=\"submit\" name=\"login\" value=\"Login\" className=\"btn btn-success\" onClick={this.submitData} />\r\n                                    </div>\r\n                                </div>\r\n                                <br />\r\n                                <button className=\"btn btn-warning\" onClick={this.forgetForm} >Forget password </button><span> </span>\r\n                                <br />\r\n                                <br/>\r\n                                <p style={{color:\"darkred\"}}>Dont have an account ? &nbsp;\r\n                                    <button className=\"btn btn-info\" onClick={this.customerForm}>Customer Registration</button>&nbsp;\r\n                                    <button className=\"btn btn-info\" onClick={this.distributorForm}>Distributor Registration</button> \r\n                                </p>\r\n                            </form>\r\n                            <br/>\r\n                            <p>{this.state.loginerror}</p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            </div >\r\n        );\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}